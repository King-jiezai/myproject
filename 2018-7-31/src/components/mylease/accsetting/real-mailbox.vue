


<style scoped>
    
    .modify_top {
        height: 40px;
        line-height: 40px;
        border:1px solid #ccc;
        background: #F9F9F9;
    }
    .modify_top p {
        margin-left: 20px;
    }
    .modify_cont {
        width: 910px;
        overflow: hidden;
        margin-top: 30px;
        font-size: 14px;   
    }
    .step_nav {
        height: 30px;
        margin: 24px 0 40px 0;
        margin-left: 70px;
        position: relative;
    }
    .step-one {
        float: left;
        height: 24px;
        width: 240px;
        background: #e60012;
        margin: 3px 0;
        line-height: 24px;
        color: #fff;
        text-align: center;   
    }
    .step-two {
        float: left;
        height: 24px;
        width: 240px;
        background: #DDDDDD;
        margin: 3px 0;
        line-height: 24px;
        color: #7B7B7B;
        padding-left: 30px; 
        text-align: center;
    }
    .step-three {
        float: left;
        height: 24px;
        width: 240px;
        background: #DDDDDD;
        margin: 3px 0;
        line-height: 24px;
        color: #7B7B7B;
        padding-left: 30px;  
        text-align: center;
    }
    .step_one img{
        height: 24px;
        display:block;
        position:absolute;
        top:3px;
        left:240px;
    }
    .step_two img{
        height: 24px;
        display:block;
        position:absolute;
        top:3px;
        left:480px;
    }
    .step_one {
        float: left;
        width: 240px;
    }
    .step_two {
        float: left;
        width:240px;
    }
    .step_three {
        float: left;
        width: 240px;
    }
    .mailbox {
        height: 30px;
        line-height: 30px;
        margin-left: 70px;
    }
    .mailbox  p {
        font-size: 14px;
        float: left;
        letter-spacing: 1px;
    }
    .mailbox input {
        float: left;
        height: 30px;
        padding-left: 10px;
        margin-right: 20px;
        outline: medium;
    }
    .inres {
        color: #999;
    }
    .inress {
        color: #e60012;
    }
    .acc-code {
        height: 30px;
        line-height: 30px;
        margin-top: 25px;
        font-size: 15px;
        margin-left: 70px;
    }
    .acc-code p:first-child {
        letter-spacing: 4px;
        float: left;
        margin-left: 45px;
    }
    .acc-code input {
        float: left;
        height: 30px;
        line-height: 30px;
        outline: medium;
        width: 150px;
        padding-left: 10px;
    }
    .acc-code .inres{
        float: left;
        color: #e60012;
    }
    .code {
        width: 230px;
        height: 30px;
        float: left;
    }
    .code p:first-child {
        width: 90px;
        height: 30px;
        line-height: 30px;
        text-align: center;
        background-color: #AAAAAA;
        letter-spacing: 5px;
        margin-left: 10px;
        color: #fff;
    }
    .notkan {
        float: left;
        line-height: 30px;
        margin-left: 15px;
        width: 110px;
        letter-spacing: 1px;
    }
    .code span {
        color: #4E9EF5;
        cursor: pointer;
    }
    .message-next {
        width: 80px;
        height: 30px;
        line-height: 30px;
        border-radius: 5px;
        background-color: #e60012;
        text-align: center;
        color: #fff;
        margin: 60px 0 0 191px;
        cursor: pointer;
    }
    .mess-one {
        float: left;
        height: 24px;
        width: 240px;
        background: #DDDDDD;
        margin: 3px 0;
        line-height: 24px;
        color: #7B7B7B;
        text-align: center;   
    }
    .mess-two {
        float: left;
        height: 24px;
        width: 240px;
        background: #e60012;
        margin: 3px 0;
        line-height: 24px;
        color: #fff;
        padding-left: 30px; 
        text-align: center;
    }
    .mess-three {
        float: left;
        height: 24px;
        width: 240px;
        background: #DDDDDD;
        margin: 3px 0;
        line-height: 24px;
        color: #7B7B7B;
        padding-left: 30px;  
        text-align: center;
    }
    .emial {
        margin-left: 70px;
    }
    .emial p {
        margin-bottom: 20px;
        letter-spacing: 1px;
        font-size: 14px;
    }
    .mailbox-emial {
        width: 100%;
        height: 30px;
        line-height: 30px;
        margin:40px 0 0 70px;
    }
     .mailbox-emial .pull {
        float: left;
        margin-left: 50px;
     }
     .mailbox-emial input {
        float: left;
        width: 150px;
        height: 30px;
        padding-left: 10px;
        outline: medium;
     }
    .mailbox-emial .mais {
        float: left;
        color: #e60012;
        margin-left: 10px;
    }
    .no-email {
        margin-left: 70px;
        margin-top: 50px;
    }
    .no-email p:first-child {
        font-size: 16px;
        font-weight: bold;
        letter-spacing: 2px;
    }
    .no-email p {
        font-size: 13px;
        letter-spacing: 2px;
        margin: 20px 0;
    }
    .maio-one {
        float: left;
        height: 24px;
        width: 240px;
        background: #DDDDDD;
        margin: 3px 0;
        line-height: 24px;
        color: #7B7B7B;
        text-align: center;   
    }
    .maio-two {
        float: left;
        height: 24px;
        width: 240px;
        background: #DDDDDD;
        margin: 3px 0;
        line-height: 24px;
        color: #7B7B7B;
        padding-left: 30px; 
        text-align: center;
    }
    .maio-three {
        float: left;
        height: 24px;
        width: 240px;
        background: #e60012;
        margin: 3px 0;
        line-height: 24px;
        color: #fff;
        padding-left: 30px;  
        text-align: center;
    }
    .success_mail {
        height: 30px;
        line-height: 30px;
        margin-top: 60px;
    }
    .success_mail img {
        float: left;
        margin-left: 120px;
    }
    .success_mail p {
        float: left;
        margin-left: 10px;
        color: #008B18;
        font-size: 16px;
    }
    .success .p1 {
        margin-left: 120px;
        margin-top: 40px;
        color: #999;
    }
    .success .p2 {
        margin-left: 120px;
        margin-top: 10px;
        color: #999;
    }

</style>

<template>
 
        <div class="body">
            <div class="modify_top">
                <p>邮箱验证</p>
            </div>

            <div class="modify_cont" v-if="one">
                 <div class="step_nav">
                    <div class="step_one">
                        <div class="step-one">
                            <p>1.输入邮箱地址</p>
                        </div>
                        <span><img src="../../../../static/images/order/333.png"></span>
                    </div>

                    <div class="step_two">
                        <div class="step-two">
                            <p>2.发送验证邮箱</p>
                        </div>
                        <span><img src="../../../../static/images/order/22.png"></span>
                    </div>

                    <div class="step_three">
                        <div class="step-three">
                            <p>3.完成</p>
                        </div>
                    </div>
                </div>
                
                <div class="mailbox">
                    <p>请输入邮箱地址：</p>
                    <input type="text" v-model="mailbox" @blur="blmai" @focus="fomail">
                    <p v-show='mailos' class="inres" >可用于登录，找回密码及身份验证</p>
                    <p v-show='mailob' class="inress" >请输入邮箱地址</p>
                    <p v-show='mailoc' class="inress" >输入的邮箱地址不正确</p>
                </div>

                <div class="acc-code">
                    <p>验证码：</p>
                    <input type="text" v-model="code" @blur="blcode">
                    <div class="code">
                        <p>{{ num }}</p>
                        <p class="notkan">看不清?<span>换一张</span></p>
                    </div>
                    <p v-show='inres' class="inres" >请输入你的验证码</p>
                    <p v-show='innume' class="inres" >输入的验证码不正确</p>
                </div>

                <div class="message-next" @click="next">
                    <p>下一步</p>
                </div>
            </div>

            <div class="modify_cont" v-if="two">
                 <div class="step_nav">
                    <div class="step_one">
                        <div class="mess-one">
                            <p>1.输入邮箱地址</p>
                        </div>
                        <span><img src="../../../../static/images/order/22.png"></span>
                    </div>

                    <div class="step_two">
                        <div class="mess-two">
                            <p>2.发送验证邮箱</p>
                        </div>
                        <span><img src="../../../../static/images/order/333.png"></span>
                    </div>
                    <div class="step_three">
                        <div class="mess-three">
                            <p>3.完成</p>
                        </div>
                    </div>
                </div>
               
                <div class="emial">
                   <p>已发送验证邮件至：{{this.mailbox}}</p>
                   <p>验证邮件24小时内有效，请尽快查看您邮箱收到的六位验证码。</p>
                </div>

                <div class="mailbox-emial">
                    <p class="pull">输入邮箱验证码：</p>
                    <input type="text" v-model="maxcode" @blur="blmax">
                    <p v-show='maibx' class="mais" >请输入你的六位验证码</p>
                    <p v-show='maibxs' class="mais" >输入的验证码不正确</p>
                    <p v-show='maibxss' class="mais" >输入的验证码必须是六位纯数字</p>
                </div>

                <div class="no-email">
                   <p>没收到邮件？</p>
                   <p>1.检查您的垃圾箱或广告箱，邮件有可能被误认为积极或广告邮件；或选择<span> 重新验证邮箱</span></p>
                   <p>2.还是没有收到邮件，选择<span> 重新发送</span></p>
                </div>

                <div class="message-next" @click="subs">
                    <p>提交</p>
                </div>
            </div>

            <div class="modify_cont" v-if="three">
                 <div class="step_nav">
                    <div class="step_one">
                        <div class="maio-one">
                            <p>1.输入邮箱地址</p>
                        </div>
                        <span><img src="../../../../static/images/order/22.png"></span>
                    </div>

                    <div class="step_two">
                        <div class="maio-two">
                            <p>2.发送验证邮箱</p>
                        </div>
                        <span><img src="../../../../static/images/order/22.png"></span>
                    </div>
                    <div class="step_three">
                        <div class="maio-three">
                            <p>3.完成</p>
                        </div>
                    </div>
                </div>
                <div class="success">
                        <div class="success_mail"> 
                            <img src="../../../../static/images/order/5555.png">
                            <p>恭喜您，邮箱验证成功</p>
                        </div>
                        <p class="p1">如果您忘记了自己的密码，就可以通过邮箱找回自己的密码。</p>
                        <p class="p2">如果您发生了账号被盗问题，也可以通过自己的邮箱找回账号</p>
                </div>
               
            </div>
          
        </div>  

   
</template>

<script>
        

    export default {

        components : {

        },

        data () {

            return {

                mailos : true,

                mailob : false,

                mailoc : false,

                mailbox : '',

                num  : "Bg89",

                inres : false,

                innume : false,

                maibx  : false,

                maibxs : false,

                maibxss : false,

                code  : '',

                maxcode : '',

                one   : true,

                two   : false,

                three : false,

                success : false,

            }

            
        },

        computed : {
          
        },

        watch : {

        },

        methods : {


            subs () {

                this.blmax()

                if (this.maibx == false && this.maibxs == false && this.maibxss == false) {

                    this.one = false

                    this.two = false

                    this.three = true
                }
            },

            fomail () {

                this.mailos = true

                this.mailob= false

                this.mailoc = false
            },

            blmai () {

                var regEmail= /^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;

                if(this.mailbox ==''){

                    this.mailob = true
                    this.mailos = false
                    this.mailoc = false

                }else if(!regEmail.test(this.mailbox)){

                    this.mailoc = true

                    this.mailob = false

                    this.mailos = false
                }
  
                if (this.mailbox == '') {

                    this.mailob = true

                    this.mailos = false

                    this.mailoc = false
                }
            },

            blcode () {

                if (this.code == '') {

                    this.inres = true

                }else if (this.code == this.num) {

                    this.inres = false

                    this.innume = false

                }else {

                    this.inres = false

                    this.innume = true
                }
            },

            next () {

                this.blmai()
                
                this.blcode()

                if (this.inres == false && this.innume == false && this.mailob == false && this.mailoc == false) {

                    this.one = false

                    this.two = true

                    this.three = false

                }  
            },

            blmax () {

                let patrn = /^[0-9]*$/

                if (patrn.test(this.maxcode) && this.maxcode.length == 6) {

                    this.maibx = false

                    this.maibxs = false

                    this.maibxss = false

                } else {

                    this.maibx = false

                    this.maibxs = false

                    this.maibxss = true

                }

                if (this.maxcode == '') {

                    this.maibx = true

                    this.maibxs = false

                    this.maibxss = false
                }
            }
            
        },

        created () {

           

        },

        mounted () {

        }

    }

</script>
