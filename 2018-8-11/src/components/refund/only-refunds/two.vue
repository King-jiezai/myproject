

<style scoped>

    .only-refunds {
        width: 100%;
        overflow: hidden;
    }
    .only_nav {
        width: 1200px;
        height: 40px;
        float: left;
        position: relative;
        font-size: 16px;
        margin-bottom: 20px;
    }
    .only-one {
        float: left;
        height: 40px;
        width: 400px;
        background: #FF0000;
        line-height: 40px;
        color: #fff;
        text-align: center; 
    }
    .only-two {
        float: left;
        height: 40px;
        width: 417px;
        background: #FF0000;
        line-height: 40px;
        color: #fff;
        text-align: center;  
    }
    .only-three {
        float: left;
        height: 40px;
        width: 400px;
        background: #F1F1F1;
        line-height: 40px;
        color: #7B7B7B;
        padding-left: 30px;
        text-align: center;   
    }
    .only_one img{
        height: 40px;
        display:block;
        position:absolute;
        left:399px;
    }
    .only_two img{
        height: 40px;
        display:block;
        position:absolute;
        left:800px;
    }
    .only_one {
        float: left;
        width: 400px;
    }
    .only_two {
        float: left;
        width: 417px;
    }
    .only_three {
        float: left;
        width: 400px;
        margin-left: -17px;
    }
    .only-cent {
        width: 1160px;
        overflow: hidden;
        border: 1px solid #ccc;
        margin: 20px 20px 0 20px;
    }
    .only-left {
        width: 758px;
        float: left;
        overflow: hidden;
        border-right:1px solid #ccc;
    }
    .only-right {
        width: 400px;    
        overflow: hidden; 
    }
    .order-details {
        width: 400px;
        height: 30px;
        line-height: 30px;
        padding-left:20px;
        margin-top: 30px;
        font-size: 14px;
    }
    .left-top {
        width: 738px;
        height: 150px;
        margin: 0 10px;
        border-bottom: 1px solid #ccc;
        padding-left: 10px;
    }
    .agree {
        float: left;
        width: 100%;
        height:30px;
        line-height: 30px;
        margin-top: 85px;
    }
    .agree p {
        float: left;
    }
    .agree img {
        float: left;
        margin: 6px 3px;
    }
    .agree p:first-child {
        font-size: 16px;
        font-weight: bold;
        margin-right: 20px;
    }
    .agree p:last-child {
        color: #32A5FE;
    }
    .success {
        width: 100%;
        height: 20px;
        line-height:20px;
    }
    .success p {
        float: left;
    }
    .left-cent {
        width: 738px;
        height: 250px;
        margin: 0 10px;
        border-bottom: 1px solid #ccc;
        padding:20px 0 0 10px; 
    }
    .cent-success {
        width: 100%;
        height: 30px;
        line-height: 30px;
        font-size: 14px;
    }
    .cent-success span {
        color: #32A5FE;
        cursor: pointer;
    }
    .modify {
        width: 150px;
        height: 40px;
        line-height: 40px!important;
        border-radius: 5px;
        text-align: center;
        color: #fff;
        background-color: #e60012;
        font-size: 16px;
        margin: 50px 0 30px 0;
        cursor: pointer;
    }
    .left-consult {
        width: 728px;
        overflow: hidden;
        margin: 0 10px;
        border-bottom: 1px solid #ccc;
        padding:20px 0 0 10px;
        margin-bottom: 30px;
    }
    .consult-top {
        width: 100%;
        height: 30px;
        line-height: 30px;
    }
    .consult-top p:first-child {
        float: left;
        font-size: 16px;
    }
    .consult-top p:last-child {
        float: right;
        color: #32A5FE;
        cursor: pointer;
    }
    .message {
        width: 100%;
        height: 350px;
        margin: 30px 0  10px 0;
        border-radius: 5px;
    }
    .left-history {
        width: 100%;
        height: 150px;
        margin-top: 20px;
    }
    .history-img {
        float: left;
        width: 80px;
        height: 80px;
        margin-right: 10px;
    }
    .history-name {
        height: 30px;
        line-height: 30px;
    }
    .history-name p:first-child {
        float: left;
    }
    .history-name p:last-child {
        float: right;
    }
    .history-name span {
        margin-left: 10px;
    }
    .history-cent {
        font-size: 14px;
        height: 30px;
        line-height: 30px;
    }
    .history-cent p {
        float: left;
    }
    .history-cent span {
        color: #32A5FE;
    }
    .next {
        width: 100px;
        height: 40px;
        line-height: 40px;
        text-align: center;
        background-color: #e60012;
        color: #fff;
        border-radius: 5px;
        margin: 30px;
        cursor: pointer;
    }
    .right-cent {
        width: 360px;
        margin: 5px 20px 37px 20px;
        height: 140px;
        border-top: 1px solid #ccc;
        border-bottom: 1px solid #ccc;
    }
    .right-img {
        float: left;
        width: 88px;
        height: 88px;
        margin: 24px 10px 24px 20px;
        border: 1px solid #ccc;
    }
    .right-img img {
        margin: 9px 3px;
    }
    .right-text {
        float: left;
        width: 240px;
        margin-top: 24px;
    }
    .right-texts {
        float: left;
        width: 240px;
        margin-top: 10px;
        color: #999;
    }
    .seller {
        width: 360px;
        margin: 0 20px;
        height: 30px;
        line-height: 30px;
    }
    .seller p:first-child {
        float: left;
        color: #999;       
    }
    .seller p:first-child span {
        letter-spacing: 24px;
    }
    .seller .name {
        float: left;
        margin-left: 10px;
        color: #32A5FE;
    }
    .contact {
        float: right;
        width: 95px;
        height: 25px;
        line-height: 25px;
        background:linear-gradient(top,#fff ,#ffc6ca 60%,#fff);
        border-radius: 5px;
        border:1px solid #e60012;
        margin: 5px 0;
    }
    .contact p {
        color: #e60012!important;
        margin:0 5px 0 10px;
    }
    .phone {
        width: 360px;
        margin: 0 20px;
        height: 30px;
        line-height: 30px;
    }
    .phone p:first-child {
        float: left;
        color: #999;       
    }
    .phone p:last-child {
        float: left;
        margin-left: 10px;
        color: #000;
    }
    .number {
        width: 360px;
        margin: 0 20px;
        height: 30px;
        line-height: 30px;
    }
    .number p:first-child {
        float: left;
        color: #999;       
    }
    .number p:last-child {
        float: left;
        margin-left: 10px;
        color: #32A5FE;
    }
    .total-price {
        width: 360px;
        margin: 0 20px;
        height: 30px;
        line-height: 30px;
    }
    .total-price p:first-child {
        float: left;
        color: #999;       
    }
    .total-price p:last-child {
        float: left;
        margin-left: 10px;
        color: #000;
    }
    .deposit {
        width: 360px;
        margin: 0 20px;
        height: 30px;
        line-height: 30px;
    }
    .deposit p:first-child {
        float: left;
        color: #999;       
    }
    .deposit p:first-child span {
        letter-spacing: 24px;
    }
    .deposit .deposits {
        float: left;
        margin-left: 10px;
        color: #000;
    }
    .deposit .deposits span {
        margin: 0 2px;
    }
    .right-bottom {
        width: 360px;
        margin: 20px 20px 30px 20px;
        border-top: 1px solid #ccc;
        padding-top: 20px;
    }
    .bottom {
        width: 360px;
        height: 30px;
        line-height: 30px;
    }
    .bottom p:first-child {
        float: left;
        color: #999;       
    }
    .bottom p:first-child span {
        letter-spacing: 24px;
    }
    .bottom .deposits {
        float: left;
        margin-left: 10px;
        color: #000;
    }
    .bottom .deposits span {
        margin: 0 2px;
    }
    .refund-bottom {
        width: 1160px;
        height: 345px;
        margin: 0px 20px 30px 20px;
        background-color: #f1f1f1;
    }
    .bottom-cent {
        width: 100%;
        overflow: hidden;
    }
    .revocation-refunds {
        width: 580px;
        height: 200px;
        background-color: #fff;
        box-shadow: 0 1px 10px #666;
        border-radius: 5px;
        position: fixed;
        top: 50%;
        left: 50%;
        margin: 0 auto;
        position: fixed;
        transform: translate(-50%, -50%);
        z-index: 999;
        cursor: pointer;
    }
    .model_pre {
        width: 100%;
        height: 100%;
        background: #000;
        opacity: 0.5;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 1;
    }
    .revocation-top {
        width: 100%;
        height: 30px;
        line-height: 30px;
        font-size: 30px;
    }
    .revocation-top span {
        float: right;
        margin-right: 20px;
    }
    .revocation-cent {
        width: 100%;
        height: 30px;
        line-height:30px; 
        text-align:center;
        padding: 0 10px;
        font-size: 15px;
        margin: 30px 0 10px 0;
    }
    .determine {
        float: left;
        width: 100px;
        height: 40px;
        font-size: 16px;
        color: #fff;
        background-color: #e60012;
        border-radius: 5px;
        line-height: 40px;
        text-align: center;
        cursor: pointer;
        margin: 20px 30px; 
    }
    .cancel {
        float: left;
        width: 100px;
        height: 40px;
        font-size: 16px;
        border:1px solid #ccc;
        border-radius: 5px;
        line-height: 40px;
        text-align: center;
        cursor: pointer;
        margin: 20px 0; 
    }
    
</style>

<template>

    <!--only-refunds 买家申请仅退款-->
    <div class="only-refunds">

        <!--only_nav 买家申请退款步骤-->
        <div class="only_nav">

            <!--only_one 买家申请退款第一步-->
            <div class="only_one">
                <div class="only-one">
                    <p>1.买家申请仅退款</p>
                </div>
                <span><img src="../../../../static/images/refund/111.png"></span>
            </div>
            
            <!--only_two 买家申请退款第二步-->
            <div class="only_two">
                <div class="only-two">
                    <p>2.卖家处理退款申请</p>
                </div>
                <span><img src="../../../../static/images/refund/111.png"></span>
            </div>

            <!--only_three 买家申请退款成功-->
            <div class="only_three">
                <div class="only-three">
                    <p>3.退款完毕</p>
                </div>
            </div>

        </div>

        <!--only-cent 买家申请退款商品详情-->
        <div class="only-cent">

            <!--only-left 左边商品详情-->
            <div class="only-left">

                <!--left-top 请等待商家同意-->
                <div class="left-top">
                    <div class="agree">
                        <p>请等待商家同意</p>
                        <img src="../../../../static/images/refund/66.png">
                        <p>还剩{{day}}天{{hour}}小时{{minu}}分</p>
                    </div>

                    <!--success 成功发起退款申请-->
                    <div class="success">
                        <p>您已成功发起退款申请，请耐心等待商家处理。</p>
                    </div>
                </div>

                <!--left-cent 商家详情内容-->
                <div class="left-cent">
                    <div class="cent-success">
                        <p>1.商家同意，系统将退款给您</p>
                    </div>
                    <div class="cent-success">
                        <p>2.如果商家拒接，您可以修改退款申请后再次发起，商家会重新处理</p>
                    </div>

                    <!--modify 修改申请-->
                    <div class="modify" @click="modiy">
                        <p>修改申请</p>
                    </div>

                    <!--revo 撤销申请-->
                    <div class="cent-success">
                        <p>您还可以：<span @click="revo">撤销申请</span></p>
                    </div>
                </div>
                
                <!--left-consult 协商历史-->
                <div class="left-consult">
                    <div class="consult-top">
                        <p>协商历史</p>
                        <p @click="climess">我要留言</p>
                    </div>

                    <!--message 留言-->
                    <div class="message" v-show="mess">
                        <message></message>
                    </div>

                    <!--left-history 协商的数据-->
                    <div class="left-history">
                        <div class="history-img">
                            <img :src="naimg">
                        </div>
                        <div class="history-name">
                            <p>{{ name }}</p>
                            <p>{{ data }}<span>{{ time }}</span></p>
                        </div>
                        <div class="history-cent">
                            <p>发起了<span>{{this.enterprise}}</span>申请，</p>
                            <p>货物状态：<span>{{this.state}}</span>，</p>
                            <p>原因：<span>{{this.cause}}</span>，</p>
                            <p>金额：<span>{{this.loo}}</span>元</p>
                        </div>
                    </div>
                </div>

                <!--next 下一步.-->
                <div class="next" @click="clinext">
                    <p>下一步</p>
                </div>
            </div>

            <!--only-right 右边订单详情-->
            <div class="only-right">
                <div class="order-details">
                    <p>退款详情</p>
                </div>

                <!--right-cent 商品详情-->
                <div class="right-cent">
                    <div class="right-img">
                        <img :src="imgs">
                    </div>
                    <p class="right-text">{{ fon }}</p>
                    <p class="right-texts">租赁方案:</p>
                </div>

                <!--seller 卖家信息-->
                <div class="seller">
                    <p><span>卖</span>家：</p>
                    <p class="name">广租</p>
                    <div class="contact">
                        <p>联系我们</p>
                        <img src="../../../../static/images/refund/44.png">
                    </div>
                </div>

                <!--phone 联系电话-->
                <div class="phone">
                    <p>联系电话：</p>
                    <p>{{phone}}</p>
                </div>

                <!--number 订单编号：-->
                <div class="number">
                    <p>订单编号：</p>
                    <p>{{number}}</p>
                </div>

                <!--deposit 押金-->
                <div class="deposit">
                    <p><span>押</span>金：</p>
                    <p class="deposits">￥：{{ deposits }}<span>x{{ num }}(数量)</span></p>
                </div>

                <!--deposit 租金-->
                <div class="deposit">
                    <p><span>租</span>金：</p>
                    <p class="deposits">￥：{{ rent }}</p>
                </div>

                <!--deposit 优惠-->
                <div class="deposit">
                    <p><span>优</span>惠：</p>
                    <p class="deposits">￥：{{ discount }}</p>
                </div>

                <!--deposit 邮费-->
                <div class="deposit">
                    <p><span>邮</span>费：</p>
                    <p class="deposits">￥：{{ postage }}</p>
                </div>

                <!--total-price 商品总价-->
                <div class="total-price">
                    <p>商品总价：</p>
                    <p>￥：{{price}}</p>
                </div> 

                <div class="right-bottom">
                    <!--bottom 退款编号：-->
                    <div class="bottom">
                        <p>订单编号：</p>
                        <p>{{refundNum}}</p>
                    </div>

                    <!--bottom 退款金额-->
                    <div class="bottom">
                        <p>退款金额：</p>
                        <p class="deposits">￥：{{ this.loo }}</p>
                    </div>

                    <!--bottom 原因-->
                    <div class="bottom">
                        <p><span>原</span>因：</p>
                        <p class="deposits">{{ this.cause }}</p>
                    </div>

                    <!--bottom 要求-->
                    <div class="bottom">
                        <p><span>要</span>求：</p>
                        <p class="deposits">{{ this.enterprise }}</p>
                    </div>

                    <!--bottom 货物状态-->
                    <div class="bottom">
                        <p>货物状态：</p>
                        <p class="deposits">{{ this.state }}</p>
                    </div>

                    <!--bottom 说明-->
                    <div class="bottom">
                        <p><span>说</span>明：</p>
                    </div> 
                </div>             
            </div>

        </div>

        <!--refund-bottom 常见问题-->
        <div class="refund-bottom">

            <!--bottom-cent 常见问题内容-->
            <div class="bottom-cent">
                <problem></problem>
            </div>
        </div>

        <div class="revocation-refunds" v-show="cancels">
            <div class="revocation-top">
                <span @click="cancel">x</span>
            </div>
            <div class="revocation-cent">
                <p>您仅能主动撤销一次，撤销后将不能再主动撤销，且超出保障期后无法再次发起售后</p>
            </div>
            <div class="determine" @click="deter">
                <p>确定</p>
            </div>
            <div class="cancel" @click="cancel">
                <p>取消</p>
            </div>
        </div>

        <div class="model_pre" v-show="cancels"></div>       
        
    </div>

</template>

<script>
    
    import zupImg from '@/components/mylease/upimg/up-img.vue'
    import message   from '@/components/refund/only-refunds/leaving-message.vue'
    import problem   from '@/components/refund/only-refunds/common-problem.vue'
    import {Icon } from 'iview'

    export default {

        components : {

            Icon,
            zupImg,
            message,
            problem
        },

        data () {

            return {
               
                imgs : '../../../../static/images/refund/11.png',

                naimg : '../../../../static/images/refund/999.jpg',

                fon  : '二手笔记本电脑 联想Thinkpad X220 X230 12寸ibm超薄手提上网本',

                name : "Dg_晴天",

                data : '2018-08-04',

                time : '13:50:00',

                day : 1,

                hour: 23,

                minu: 59,

                state: '未发货',

                vals : 2160,

                mon  : 0,

                num  : 1,

                phone  : '18816889159',

                number : '1235547878898988881',

                refundNum :'1234555568874142',

                deposits : 2000,

                rent   : 1000,

                discount : 0,

                postage  : 0,

                price  : 2900,

                mess : false,

                cancels : false,

            }
            
        },

        watch : {

        },

        computed : {

            
        },

        methods : {
            
            modiy () {

                this.$store.commit('obos', false)

                setTimeout(() => {
                        this.$store.commit('obos', true)
                }, 10)
            },

            climess () {
                this.mess = !this.mess
            },

            cancel () {

                this.cancels = false
            },

            revo () {

                this.cancels = true
            },

            deter () {

                this.$store.commit('rch', false)

                setTimeout(() => {
                        this.$store.commit('rch', true)
                }, 10)
            },

            clinext () {

                this.$store.commit('next', false)

                setTimeout(() => {
                        this.$store.commit('next', true)
                }, 10)

            }
        },

        created () {

            this.loo =   this.$store.state.val

            this.cause =   this.$store.state.reo

            this.enterprise =   this.$store.state.pson 
   
        },

        mounted () {

        }

    }

</script>
